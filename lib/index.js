"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("reflect-metadata");const SINGLETON_KEY=Symbol(),Singleton=o=>new Proxy(o,{construct(e,t,r){return console.info(`%c PL-decorator Singleton -  Class: ${o.name} is in singleton mode...`,"color: blue "),e.prototype!==r.prototype?Reflect.construct(e,t,r):(e[SINGLETON_KEY]||(e[SINGLETON_KEY]=Reflect.construct(e,t,r)),e[SINGLETON_KEY])}}),TryCatch=n=>(e,r,t)=>{let o=t.value;return t.value=function(...e){try{o.apply(this,e)}catch(e){let t=new n;t.handleError(e,r)}},t},moment$3=require("moment"),Log=(c="log")=>(t,r,e)=>{const o=e=>{console[c]("%c"+[moment$3().format("HH:mm:ss"),...e].join(" "),"color: white; background:blue")};let n=e.value;return e.value=function(...e){o(["- Called method START: ",t.constructor.name,"=>",r,JSON.stringify(e)].join(" "));e=n.apply(this,e);return o([" - Called method END: ",t.constructor.name,"=>",r,null==e?"-NO RESULT-":JSON.stringify(e)].join(" ")),e},e},moment$2=require("moment"),FormatDate=(o="DD/MM/yyyy HH:mm:ss",n="it")=>(e,t)=>{let r=e[t];moment$2.locale(n),Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>{try{return moment$2(r).format(o)}catch(e){return e}},set:e=>{try{r=moment$2(e)}catch(e){r=moment$2()}}})};function __decorate(e,t,r,o){var n,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;0<=l;l--)(n=e[l])&&(a=(c<3?n(a):3<c?n(t,r,a):n(t,r))||a);return 3<c&&a&&Object.defineProperty(t,r,a),a}const moment$1=require("moment");let Utils=class{constructor(){this.log=(e,t="log")=>{console[t]("%c"+[moment$1().format("HH:mm:ss"),...e].join(" "),"color: blue")}}};Utils=__decorate([Singleton],Utils);const{interval,take}=require("rxjs"),Delay=(s=0)=>(n,c,e)=>{let a=e.value,l=new Utils;return l.log([" - Delay - Class; ",n.constructor.name,"Method:",c,"REGISTERED"].join(" ")),e.value=function(...o){return new Promise((t,r)=>{interval(s).pipe(take(1)).toPromise().then(e=>{t(a&&a.apply(this,o)),l.log([" - Delay - Class; ",n.constructor.name,"Method:",c,"EXCUTED"].join(" "))}).catch(e=>{r(e)})})},e};exports.FORMAT_NUMBER=void 0,function(e){e.EN="en-EN",e.DE="de-DE",e.AF="af-AF",e.AM="am-AM",e.AR="ar-AR",e.BN="bn-BN",e.BG="bg-BG",e.CA="ca-CA",e.CS="cs-CS",e.NL="nl-NL",e.ET="et-ET",e.FR="fr-FR",e.HE="he-HE",e.HI="hi-HI",e.IT="it-IT",e.NB="nb-NB",e.MS="ms-MS",e.ID="id-ID",e.PL="pl-PL"}(exports.FORMAT_NUMBER||(exports.FORMAT_NUMBER={}));const FormatNumber=(n=exports.FORMAT_NUMBER.IT,c)=>(e,t)=>{let r=e[t],o=new Intl.NumberFormat(n,c);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>{try{if(o)return o.format(r)}catch(e){return e}},set:e=>{try{r=e}catch(e){r=0}}})},moment=require("moment");let DependencyManager=class{constructor(){this.deps={}}set(e,t){e in this.deps||(this.deps[e]=t)}get(e){return e in this.deps?this.deps[e]:null}};DependencyManager=__decorate([Singleton],DependencyManager);const manager=new DependencyManager,colorTrace=e=>{console.log("%c"+[moment().format("HH:mm:ss"),...e].join(" "),"color: red; ")},Inject=n=>(e,t)=>{let r=n.name,o=e.constructor.name;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>{let e=manager.get(r);if(e&&e.injectable)return e.singleton=!0,e;throw colorTrace([` ${r} is not injectable, delete @Inject(${r}) on attribure ${t} in `+o].join(" ")),new Error(`### ${r} is not injectable ###`)}})},Injectable=o=>{var e=new o;return Object.defineProperty(e,"instanceID",{value:Symbol(),writable:!1}),Object.defineProperty(e,"injectable",{value:!0,writable:!1}),null==manager.get(o.prototype.constructor.name)&&manager.set(o.prototype.constructor.name,e),new Proxy(o,{construct(e,t,r){return e.prototype!==r.prototype?Reflect.construct(e,t,r):(o&&1==o.prototype.injectable&&1==o.prototype.singleton?e=manager.get(o.prototype.constructor.name):(e=Reflect.construct(e,t,r),Object.defineProperty(e,"instanceID",{value:Symbol(),writable:!1}),Object.defineProperty(e,"injectable",{value:!1,writable:!1})),e)}})};exports.Delay=Delay,exports.FormatDate=FormatDate,exports.FormatNumber=FormatNumber,exports.Inject=Inject,exports.Injectable=Injectable,exports.Log=Log,exports.Singleton=Singleton,exports.TryCatch=TryCatch;
