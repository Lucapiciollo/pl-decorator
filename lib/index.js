"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const SINGLETON_KEY=Symbol(),Singleton=n=>new Proxy(n,{construct(e,t,r){return console.info(`%c PL-decorator Singleton -  Class: ${n.name} is in singleton mode...`,"color: blue "),e.prototype!==r.prototype?Reflect.construct(e,t,r):(e[SINGLETON_KEY]||(e[SINGLETON_KEY]=Reflect.construct(e,t,r)),e[SINGLETON_KEY])}}),TryCatch=o=>(e,r,t)=>{let n=t.value;return t.value=function(...e){try{return n.apply(this,e)}catch(e){let t=new o;t.handleError(e,r)}},t},moment$3=require("moment"),Log=(c="log")=>(t,r,e)=>{const n=e=>{console[c]("%c"+[moment$3().format("HH:mm:ss"),...e].join(""),"color: white; background:darkslateblue")};let o=e.value;return e.value=function(...e){n(["- Called method START: ",t.constructor.name," => ",r,"( ",JSON.stringify(e)," )"].join(""));e=o.apply(this,e);return n([" - Called method END: ",t.constructor.name," => ",r," return: ",null==e?"-NO RESULT-":JSON.stringify(e)].join("")),e},e},moment$2=require("moment"),FormatDate=(n="DD/MM/yyyy HH:mm:ss",o="it")=>(e,t)=>{let r=e[t];moment$2.locale(o),Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>{try{return moment$2(r).format(n)}catch(e){return e}},set:e=>{try{r=moment$2(e)}catch(e){r=moment$2()}}})};function __decorate(e,t,r,n){var o,c=arguments.length,s=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(c<3?o(s):3<c?o(t,r,s):o(t,r))||s);return 3<c&&s&&Object.defineProperty(t,r,s),s}const moment$1=require("moment");let Utils=class{constructor(){this.log=(e,t="log")=>{console[t]("%c"+[moment$1().format("HH:mm:ss"),...e].join(" "),"color: blue")}}};Utils=__decorate([Singleton],Utils);const{interval,take}=require("rxjs"),Delay=(l=0)=>(o,c,e)=>{let s=e.value,a=new Utils;return a.log([" - Delay - Class; ",o.constructor.name,"Method:",c,"REGISTERED"].join("")),e.value=function(...n){return new Promise((t,r)=>{interval(l).pipe(take(1)).toPromise().then(e=>{t(s&&s.apply(this,n)),a.log([" - Delay - Class; ",o.constructor.name,"Method:",c,"EXCUTED"].join(""))}).catch(e=>{r(e)})})},e};exports.FORMAT_NUMBER=void 0,function(e){e.EN="en-EN",e.DE="de-DE",e.AF="af-AF",e.AM="am-AM",e.AR="ar-AR",e.BN="bn-BN",e.BG="bg-BG",e.CA="ca-CA",e.CS="cs-CS",e.NL="nl-NL",e.ET="et-ET",e.FR="fr-FR",e.HE="he-HE",e.HI="hi-HI",e.IT="it-IT",e.NB="nb-NB",e.MS="ms-MS",e.ID="id-ID",e.PL="pl-PL"}(exports.FORMAT_NUMBER||(exports.FORMAT_NUMBER={}));const FormatNumber=(o=exports.FORMAT_NUMBER.IT,c)=>(e,t)=>{let r=e[t],n=new Intl.NumberFormat(o,c);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>{try{if(n)return n.format(r)}catch(e){return e}},set:e=>{try{r=e}catch(e){r=0}}})},Unsubscribe=(o=[])=>r=>{const n=r.prototype.ngOnDestroy;r.prototype.ngOnDestroy=function(){for(var t in this){const e=this[t];if(!o.includes(t)&&e&&"function"==typeof e.unsubscribe)try{console.info(`%c PLUnsubscribe -  Class:   ${r.name} unsubscriber: ${t} `,"color: green "),e.unsubscribe()}catch(e){console.error(`%c PLUnsubscribe -  Class:  ${r.name}  unsubscriber: ${t} ERROR: `,"color: red ",e||"")}console.info(`%c PLUnsubscribe -  Class:   ${r.name} unsubscriber IGNORED: ${t} `,"color: blue ")}n&&n.apply(this)}},moment=require("moment");let DependencyManager=class{constructor(){this.deps={}}set(e,t){e in this.deps||(this.deps[e]=t)}get(e){return e in this.deps?this.deps[e]:null}};DependencyManager=__decorate([Singleton],DependencyManager);const manager=new DependencyManager,colorTrace=e=>{console.log("%c"+[moment().format("HH:mm:ss"),...e].join(" "),"color: red; ")},Inject=o=>(e,t)=>{let r=o.name,n=e.constructor.name;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>{let e=manager.get(r);if(e&&e.injectable)return e.singleton=!0,e;throw colorTrace([` ${r} is not injectable, delete @Inject(${r}) on attribure ${t} in `+n].join("")),new Error(`### ${r} is not injectable ###`)}})},Injectable=n=>{var e=new n;return Object.defineProperty(e,"instanceID",{value:Symbol(),writable:!1}),Object.defineProperty(e,"injectable",{value:!0,writable:!1}),null==manager.get(n.prototype.constructor.name)&&manager.set(n.prototype.constructor.name,e),new Proxy(n,{construct(e,t,r){return e.prototype!==r.prototype?Reflect.construct(e,t,r):(n&&1==n.prototype.injectable&&1==n.prototype.singleton?e=manager.get(n.prototype.constructor.name):(e=Reflect.construct(e,t,r),Object.defineProperty(e,"instanceID",{value:Symbol(),writable:!1}),Object.defineProperty(e,"injectable",{value:!1,writable:!1})),e)}})};exports.Delay=Delay,exports.FormatDate=FormatDate,exports.FormatNumber=FormatNumber,exports.Inject=Inject,exports.Injectable=Injectable,exports.Log=Log,exports.Singleton=Singleton,exports.TryCatch=TryCatch,exports.Unsubscribe=Unsubscribe;
